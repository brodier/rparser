require 'rubygems'
require 'parser'
include Parser
Decoder_CBAE = DEFAULTS_PARSERS['MSG_CBAE']

msg = "0100723c66a188e28a21104972039987233552000000000000001130072307002804800008593007231405411102500051000527060b0497011200410b09250004713031333037323330343830303031314130323538443031343539303820202020202020204b454f4c495320425820544243202020203333205c424f52444541555820205c33333038322046522230333132354e4e4e4e4e4e4e4e4e4e4e39363134353039373532323138303030323409780a0140300000000100100267df800100df8101020057134972039987233552d14052018405772080000f0082023c000095050000008000009c01009f0607a00000004210109f100a06950a03a400020229769f2608880bd475613525a79f2701809f3602025e9f37046e5ee2db9f33032090c0300100020100010102151001020113020001420201063085022003060202040014590802070600000000113002050202500011300205020250"
puts "Parsing Message 1"
f,r = Decoder_CBAE.parse([msg].pack("H*"))
puts f.to_yaml

msg = "0100723c66a188e28a21104970492630491014000000000000004995120609004604600310003612061409594102500051000000060b0497300300030b09250004714031323132303630343630303331314330414431363336303430383520202020202020204445434154484c4f4e20303131382020203539205c56494c4c454e455556455c35393635302046522230333132354e4e4e4e4e4e4e4e4e4e4e39363134353030353639343035303038373009780a0140300000000100200167df800100df8101020057134970492630491014d14092216496771370000f0082023c000095050000001000009c01009f0607a00000004220109f100a065f0a03a42002021a539f260869c12d1e9c5551e59f2701809f360200c99f3704000dd7d09f330360b8c030010002010001010215030102011202000110020106109502720020020204036040850207060000000049950205020250b531e49600000000"
puts "Parsing Message 2"
f,r = Decoder_CBAE.parse([msg].pack("H*"))
puts f.to_yaml

msg = "0100767c66e188e2ba21104970443369229372010000000000006000000000006000072209540361000000421012095403072258586011038000510000020606064539970b09250002640233323033303934323130313235303431373038204d5053204152454120544552522e545649412042414e43484920444920534f50524120383420205c5349454e41202020202020205c49541030333132354e4e4e4e4e4e4e4e4e4e4e0978097800000000000000000a0160320101000100210172009a031307225f2a0209789f02060000000060009f1a020380df800100df810102005713000000000000000000000000000000000000000082023c000095058000048000009c01019f100a06c70a03a088000200009f26081cad0cac018a86369f360200319f370433b066399f33036040202f0100020100010201130200017002050203800802220100004820203130202034312020203320202020202008030101f85b7bf800000000"
puts "Parsing Message 3"
f,r = Decoder_CBAE.parse([msg].pack("H*"))
puts f.to_yaml
